@model OnlineJobPortal.Models.Profile

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    var successMessage = TempData["successMessage"]?.ToString();
    var errorMessage = TempData["errorMessage"]?.ToString();
}

<h2 style="text-align:center">Profile</h2>

@if (!string.IsNullOrWhiteSpace(successMessage))
{
    <div class="alert alert-success">
        <b>Success:</b> @successMessage
        <button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
else if (!string.IsNullOrWhiteSpace(errorMessage))
{
    <div class="alert alert-danger">
        <b>Error:</b> @errorMessage
        <button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="row mt-4">
    <div class="col-md-6 mb-3">
        <h3>Personal Details</h3>
        <div class="form-horizontal">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.Id)

            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Firstname)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Firstname)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Lastname)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Lastname)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Dateofbirth)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Dateofbirth)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Gender)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Gender)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Phone)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Phone)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Email)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Email)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Address)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Address)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Username)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Username)</span>
                </div>
            </div>
            
        </div>
    </div>

    <div class="col-md-6">
        <h3>Education Details</h3>
        <div class="form-horizontal">
            @Html.HiddenFor(model => model.EducationId)

            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Qualification)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Qualification)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Passout)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Passout)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Experience)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Experience)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Message)</label>
                <div class="col-7 col-md-8">
                    <span class="form-control-plaintext">@Html.DisplayFor(model => model.Message)</span>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Photo)</label>
                @if (!string.IsNullOrEmpty(Model.Photo))
                {
                    <div class="mt-3">
                        <p>Current Photo:</p>
                        <img src="data:image/png;base64,@Model.Photo" alt="Photo" class="img-thumbnail" style="width:150px; height:auto;" />
                    </div>
                }
                else
                {
                    <span>No photo currently available.</span>
                }
            </div>
            <div class="form-group row">
                <label class="col-5 col-md-4 control-label">@Html.DisplayNameFor(model => model.Resume)</label>
                @if (!string.IsNullOrEmpty(Model.Resume))
                {
                    <a href="@Url.Action("DownloadResume", "User", new { id = Model.Id })" target="_blank">
                        Download Resume
                    </a>
                }
                else
                {
                    <p>No Resume</p>
                }
            </div>
            
           
                
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            @Html.ActionLink("Back", "Viewjobapplication", null, new { @class = "btn btn-primary" })
        </div>
    </div>
    <form asp-action="ChangeStatusToShortlisted" method="post" class="d-inline">
        <input type="hidden" name="id" value="" />
        <button type="submit" class="btn btn-danger btn-sm">Shortlist</button>
    </form>



</div>
